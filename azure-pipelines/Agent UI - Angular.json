{"options":[{"enabled":false,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"Issue","assignToRequestor":"true","additionalFields":"{}"}}],"triggers":[{"branchFilters":["+master"],"pathFilters":["+CrmConnectorUi"],"batchChanges":true,"maxConcurrentBuildsPerBranch":1,"pollingInterval":0,"triggerType":2}],"variables":{"system.debug":{"value":"false","allowOverride":true}},"properties":{},"tags":[],"_links":{"self":{"href":"https://dev.azure.com/ActiveoSingapore/df669a6b-2ecf-4bf6-b6b9-c19765bccc6d/_apis/build/Definitions/1?revision=10"},"web":{"href":"https://dev.azure.com/ActiveoSingapore/df669a6b-2ecf-4bf6-b6b9-c19765bccc6d/_build/definition?definitionId=1"},"editor":{"href":"https://dev.azure.com/ActiveoSingapore/df669a6b-2ecf-4bf6-b6b9-c19765bccc6d/_build/designer?id=1&_a=edit-build-definition"},"badge":{"href":"https://dev.azure.com/ActiveoSingapore/df669a6b-2ecf-4bf6-b6b9-c19765bccc6d/_apis/build/status/1"}},"buildNumberFormat":"$(date:yyyyMMdd)$(rev:.r)","jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"badgeEnabled":true,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Set $env:version to BuildNumber","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"inline","filePath":"","arguments":"","script":"$env:version=$(Build.BuildNumber)","errorActionPreference":"stop","warningPreference":"default","informationPreference":"default","verbosePreference":"default","debugPreference":"default","failOnStderr":"false","showWarnings":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":"","runScriptInSeparateScope":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"RegEx Match & Replace Version Number in consts","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"86e3367d-c1d2-40a3-ab67-abd1924ce49f","versionSpec":"2.*","definitionType":"task"},"inputs":{"PathToFile":"$(build.sourcesDirectory)\\CrmConnectorUi\\src\\shared\\AppConsts.ts","RegEx":"WebAppGuiVersion = '(.*)';","Global":"true","IgnoreCase":"false","MultiLine":"false","ValueToReplace":"WebAppGuiVersion = '1.$(Build.BuildNumber)';"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"RegEx Match & Replace Version Number in appsettings","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"86e3367d-c1d2-40a3-ab67-abd1924ce49f","versionSpec":"2.*","definitionType":"task"},"inputs":{"PathToFile":"$(build.sourcesDirectory)\\CrmConnectorUi\\src\\assets\\appconfig.json","RegEx":"\"uiVersion\": \"(.*)\"","Global":"true","IgnoreCase":"false","MultiLine":"false","ValueToReplace":"\"uiVersion\": \"1.$(Build.BuildNumber)\""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"npm custom","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"fe47e961-9fa8-4106-8639-368c022d43ad","versionSpec":"1.*","definitionType":"task"},"inputs":{"command":"custom","workingDir":"$(build.sourcesDirectory)/CrmConnectorUi","verbose":"false","customCommand":"install @angular/cli --location=global","customRegistry":"useNpmrc","customFeed":"","customEndpoint":"","publishRegistry":"useExternalRegistry","publishFeed":"","publishPackageMetadata":"true","publishEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"yarn install","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"3.*","definitionType":"task"},"inputs":{"projectDirectory":"$(build.sourcesDirectory)/CrmConnectorUi","arguments":"install","productionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"increase memory and build angular project with--configuration azure","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"2.*","definitionType":"task"},"inputs":{"script":"node --max_old_space_size=4096 ./node_modules/@angular/cli/bin/ng build --configuration azure --build-optimizer=true","workingDirectory":"$(build.sourcesDirectory)/CrmConnectorUi","failOnStderr":"false"}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Command Line Script","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"2.*","definitionType":"task"},"inputs":{"script":"dir /s /b /o:gn","workingDirectory":"$(build.sourcesDirectory)","failOnStderr":"false"}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"ng build","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"74b00cae-14b5-414f-b9f1-1aa71b192da2","versionSpec":"1.*","definitionType":"task"},"inputs":{"command":"build","project":"","custom":"","arguments":"--configuration azure","prod":"false","verbose":"false","debug":"false","DisableAnalytics":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"RegEx Match & Replace","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"86e3367d-c1d2-40a3-ab67-abd1924ce49f","versionSpec":"2.*","definitionType":"task"},"inputs":{"PathToFile":"$(build.sourcesDirectory)\\CrmConnectorUi\\dist\\azure\\index.html","RegEx":"<head>","Global":"true","IgnoreCase":"false","MultiLine":"false","ValueToReplace":"<head><meta name=\"ui-build-number\" content=\"$(Build.BuildNumber)\"/>"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy assets to dist/assets","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"inline","filePath":"","arguments":"","script":"[string]$sourceDirectory  = \"$(build.sourcesDirectory)/CrmConnectorUi/assets/*\"\n# New-Item -Path '$(build.sourcesDirectory)/CrmConnectorUi/dist/azure/assets/' -ItemType Directory\n[string]$destinationDirectory = \"$(build.sourcesDirectory)/CrmConnectorUi/dist/azure/assets/\"\nCopy-item -Force -Recurse -PassThru -Verbose $sourceDirectory -Destination $destinationDirectory","errorActionPreference":"stop","warningPreference":"default","informationPreference":"default","verbosePreference":"default","debugPreference":"default","failOnStderr":"false","showWarnings":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":"","runScriptInSeparateScope":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Angular dist\\azure folder as artifact \"drop\"","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"$(build.sourcesDirectory)\\CrmConnectorUi\\dist\\azure","ArtifactName":"angular-drop","ArtifactType":"Container","TargetPath":"","Parallel":"false","ParallelCount":"8","FileCopyOptions":"","StoreAsTar":"false"}}],"name":"Dev","refName":"Job_1","condition":"succeeded()","target":{"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":1}],"target":{"agentSpecification":{"identifier":"windows-latest"}},"type":1},"repository":{"properties":{"cleanOptions":"0","labelSources":"6","labelSourcesFormat":"$(build.buildNumber)","reportBuildStatus":"true","gitLfsSupport":"false","skipSyncSource":"false","checkoutNestedSubmodules":"false","fetchDepth":"1"},"id":"36c923d9-9367-43f7-9245-372d33416cd8","type":"TfsGit","name":"SPPL_IRIS","url":"https://dev.azure.com/ActiveoSingapore/SPPL_IRIS/_git/SPPL_IRIS","defaultBranch":"refs/heads/master","clean":"false","checkoutSubmodules":false},"processParameters":{},"quality":1,"authoredBy":{"displayName":"Sachethana Pathirage","url":"https://spsprodsea2.vssps.visualstudio.com/Aa11ba01d-ac87-4246-9b33-8029e7f05734/_apis/Identities/ab312477-d435-61d2-b194-954fbc441352","_links":{"avatar":{"href":"https://dev.azure.com/ActiveoSingapore/_apis/GraphProfile/MemberAvatars/aad.YWIzMTI0NzctZDQzNS03MWQyLWIxOTQtOTU0ZmJjNDQxMzUy"}},"id":"ab312477-d435-61d2-b194-954fbc441352","uniqueName":"spathirage@activeo.com","imageUrl":"https://dev.azure.com/ActiveoSingapore/_apis/GraphProfile/MemberAvatars/aad.YWIzMTI0NzctZDQzNS03MWQyLWIxOTQtOTU0ZmJjNDQxMzUy","descriptor":"aad.YWIzMTI0NzctZDQzNS03MWQyLWIxOTQtOTU0ZmJjNDQxMzUy"},"drafts":[],"queue":{"_links":{"self":{"href":"https://dev.azure.com/ActiveoSingapore/_apis/build/Queues/9"}},"id":9,"name":"Azure Pipelines","url":"https://dev.azure.com/ActiveoSingapore/_apis/build/Queues/9","pool":{"id":9,"name":"Azure Pipelines","isHosted":true}},"id":1,"name":"Agent UI - Angular","url":"https://dev.azure.com/ActiveoSingapore/df669a6b-2ecf-4bf6-b6b9-c19765bccc6d/_apis/build/Definitions/1?revision=10","uri":"vstfs:///Build/Definition/1","path":"\\","type":2,"queueStatus":0,"revision":10,"createdDate":"2022-07-05T13:01:08.590Z","project":{"id":"df669a6b-2ecf-4bf6-b6b9-c19765bccc6d","name":"SPPL_IRIS","url":"https://dev.azure.com/ActiveoSingapore/_apis/projects/df669a6b-2ecf-4bf6-b6b9-c19765bccc6d","state":1,"revision":11,"visibility":0,"lastUpdateTime":"2022-06-08T16:25:10.707Z"}}