<div class="modal-header">
  <h4 class="modal-title">Case History &amp; Activities</h4>
  <button type="button" class="btn-close" aria-label="Close" (click)="dismiss('close clicked')"></button>
</div>
<div class="modal-body">
  <div class="container" [busyIf]="loading">
    <ul ngbNav #nav="ngbNav" class="nav-tabs">
      <li [ngbNavItem]="1">
        <a ngbNavLink>Cases</a>
        <ng-template ngbNavContent>
          <table class="table table-striped table-hover ">
            <thead>
              <tr>
                <th>Case Number</th>
                <th>Case Title</th>
                <th>Case Details</th>
                <th>Owner</th>
                <th>Status Reson</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let record of data.recentCaseHistory">
                <td>{{ record.caseNumber }}</td>
                <td>{{ record.caseTitle }}</td>
                <td>{{ record.caseDetails }}</td>
                <td>{{ record.owner }}</td>
                <td>{{ record.statusReason }}</td>
              </tr>
              <tr *ngIf="!(data?.recentCaseHistory?.length > 0)">
                <td colspan="5" class="text-center">No Records</td>
              </tr>
            </tbody>
          </table>
        </ng-template>
      </li>
      <li [ngbNavItem]="2">
        <a ngbNavLink>Activity</a>
        <ng-template ngbNavContent>
          <h5>Calls (Last 5 incoming/outgoing calls)</h5>
          <table class="table table-striped table-hover ">
            <thead>
              <tr>
                <th>Date/Time</th>
                <th>Subject</th>
                <th>Call Status</th>
                <th>Owner</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let record of data.recentCallActivities">
                <td>{{ record.dateTime }}</td>
                <td>{{ record.subject }}</td>
                <td>{{ record.callStatus }}</td>
                <td>{{ record.owner }}</td>
              </tr>
              <tr *ngIf="!(data?.recentCallActivities?.length > 0)">
                <td colspan="4" class="text-center">No Records</td>
              </tr>
            </tbody>
          </table>
          <h5>Email (Last 5 incoming/outgoing emails)</h5>
          <table class="table table-striped table-hover ">
            <thead>
              <tr>
                <th>Date/Time</th>
                <th>Subject</th>
                <th>Status Reason</th>
                <th>Owner</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let record of data.recentEmailActivities">
                <td>{{ record.dateTime }}</td>
                <td>{{ record.subject }}</td>
                <td>{{ record.statusReason }}</td>
                <td>{{ record.owner }}</td>
              </tr>
              <tr *ngIf="!(data?.recentEmailActivities?.length > 0)">
                <td colspan="4" class="text-center">No Records</td>
              </tr>
            </tbody>
          </table>
          <h5>SMS (Last 5 SMS sent)</h5>
          <table class="table table-striped table-hover ">
            <thead>
              <tr>
                <th>Date/Time</th>
                <th>Subject</th>
                <th>SMS Message</th>
                <th>Owner</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let record of data.recentSMSActivities">
                <td>{{ record.dateTime }}</td>
                <td>{{ record.subject }}</td>
                <td>{{ record.smsMessage }}</td>
                <td>{{ record.owner }}</td>
              </tr>
              <tr *ngIf="!(data?.recentSMSActivities?.length > 0)">
                <td colspan="5" class="text-center">No Records</td>
              </tr>
            </tbody>
          </table>
        </ng-template>
      </li>
    </ul>
  
    <div [ngbNavOutlet]="nav" class="mt-2"></div>
  </div>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-sm btn-outline-dark" (click)="activeModal.close('Close click')">Close</button>
</div>